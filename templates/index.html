{% extends "_base.html" %}

{% block content %}
<!-- instructions should be added here that prediction should be completed before running this file -->

<!-- section featured -->
<section id="featured">
  <!-- opt in area for landing page -->
  <div class="landing">
    <div class="container">
      <div class="row">
        <div class="span12">
          <h2><strong>(1) <span class="colored">Load</span> and <span class="colored">Index </span> Image Files</strong></h2>
          <p>First, index all the images for parsing using the console. The image directory should be located in <strong>dataset/</strong> folder from the main application directory structure.
            Don't clutter the directory by placing each dataset into its own folder (for easier identification, too).
            Appending with a timestamp or implementing you own naming convention would be nice (to avoid confusing yourself), but not necessary.
          </p>
          <pre><code>
      root
       |---cbis/
             |---dataset/  -> contains the images for searching, move the images for loading and indexing here
                     |--- e.g. WEAPON-DB11_20190226_180745/
                                |--- img1.jpg
                                |--- ...
             ...
             |---output/
             |---app.py
          </code></pre>
          <p>
            The command line guide is found <a target="_blank" href="/howtouse#Running-the-console-application"><i>here</i></a>.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="span12">
          <h2><strong>(2) <span class="colored">Parse</span> Files </strong></h2>
          <p>After the file is loaded, each image will have a prediction list and an exif information.
            The console creates 2 files and saves them in the output folder.
            The page loads the contents from this folder and allows the user to choose the file to parse.
          </p>
          <pre><code>
      root
       |---cbis/
             |---dataset/
             ...
             |---output/ -> contains the images for searching, move the images for loading and indexing here
                     |--- e.g. WEAPON-DB11_20190226_180745/
                                |--- predictions_20190225_013906.csv
                                |--- exif_20190225_013906.csv
             |---app.py
          </code></pre>


          <!-- files -->
          <form>
          <table class="table table-hover" id="results-table">
            <thead>
            <tr><th>#</th>
              <th>Location/Folder</th>
              <th>Prediction File</th>
              <th>Exif File</th>
            </tr></thead>
            <tbody id="results"></tbody>
            </table>
          </form>
            <p class="text-center searching"><img alt="" src="static/img/ajax-loader.gif" /></p>
          </div>
      </div>
        <p id="parse-error" class="text-error"></p>
      <div class="row">
        <div class="span12">
          <h2><strong>(3) Search for <span class="colored">Guns</span> or <span class="colored">Other</span> Objects </strong></h2>
          <p>Each search item should be delimited by a comma.
          </p>
          <p>Example: <code>gun, water, church</code></p>

              <!--<button id="search-submit" class="btn btn-theme btn-large" type="button">Start</button>-->
            <div class="input-append">
              <form>
              <input class="span6 input-large" type="text" id="search-list" placeholder="Use comma-separated search strings" required />
              <button id="search-submit" class="btn btn-theme btn-large" type="button">Start</button>
              </form>
            </div>
            <p id="search-error" class="text-error"></p>
            <p class="text-center searching"><img alt="" src="static/img/ajax-loader.gif" /></p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- /section featured -->

<section id="content">
  <div class="container">
    <h4 class="title" id="search-results-title"><strong>Search <span class="colored">Results</span></strong></h4>
    <div class="row">
      <div class="span12">
        <!-- search image results -->
        <ul class="portfolio-categ filter" id="thumbs-categ-filter">
          <!--<li class="all active"><a href="#">all (40)</a></li>
          <li class="gun"><a href="#" title="">guns (21)</a></li>
          <li class="church"><a href="#" title="">church (19)</a></li>-->
        </ul>
          <div class="clearfix"></div>
          <div class="btn-group">
              <button class="btn btn-inverse size-change" data-id="30%">smallest</button>
              <button class="btn btn-primary size-change" data-id="50%">smaller</button>
              <button class="btn btn-success size-change" data-id="75%">small</button>
              <button class="btn btn-theme size-change" data-id="100%">default</button>
          </div>
          <div class="clearfix marginbot20"></div>
    </div><!-- end of row -->
    <div class="row">
      <!-- images -->
      <div class="span7 img-container-scrollable">
        <section id="projects">
            <p class="text-center" id="loading"><img alt="" src="static/img/ajax-loader.gif" /></p>
          <ul id="thumbs" class="grid cs-style-4 portfolio">
              <!-- search photos here -->
          </ul>
        </section>
      </div>
      <!-- right side bar -->
      <div class="span5">
        <aside class="right-sidebar">
          <!--table information -->
          <h5>File <span class="colored">Information</span></h5>

          <span>
            File: <span id="file-info-label">~</span>
            <table id="file-info-table" class="table table-hover table-striped table-bordered nowrap">
            <thead><tr><th> # </th>
              <th>Label (Prediction) </th>
              <th>Probability values</th>
            </tr></thead>
            <tbody id="file-info-body">
            <tr><td> - </td><td>-</td><td>-</td></tr>
            </tbody>
          </table>
          </span>

          <div class="clearfix">&nbsp</div>
          <h5>EXIF <span class="colored">Information</span></h5>
          <p id="exif-placeholder" class="text-info">Displays exif information if available.</p>

          <span class="span5">
            <!--generate dynamic table -->
            <table id="exif-info" class="table table-hover table-striped"></table>
          </span>

          <div class="clearfix">&nbsp</div>
          <h5>GPS <span class="colored">Information</span></h5>
          <p id="map-placeholder" class="text-info">Displays map if GPS coordinates exist.</p>
          <span id="map-info"><!-- placeholder for map --></span>



        </aside>
      </div>
    </div><!-- end of row -->

      <section id="works">
          <div class="container">
              <div class="row">
                  <div class="span12">
                    <h2><strong>(4) <span class="colored">Summary</span> of Search <span class="colored">Results</span></strong></h2>
                      <!-- test for animated graphs -->
                      <p class="text-center searching"><img alt="" src="static/img/ajax-loader.gif" /></p>
                    <section id="section-chart-search">
                        <ul id="toolbar">
                          <li href="#" id="all" class="chart-links active">All</li>
                          <li href="#" id="category" class="chart-links">By Category</li>
                        </ul>
                        <div id="chart-search"></div>
                    </section>
                  </div>
              </div>
          </div>
      </section>


  </div>
</section>



{% endblock %}
